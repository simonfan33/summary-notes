# 尚硅谷\_JavaSE\_day02

# day02 【数据类型转换、运算符】

## 今日内容

-   数据类型转换
-   算数运算符
-   比较运算符
-   逻辑运算符

## 学习目标

-   [ ] 理解基本数据类型的自动类型转换
-   [ ] 理解基本数据类型的强制类型转换
-   [ ] 理解int类型和char类型的运算原理
-   [ ] 理解运算符++ --的运算方式
-   [ ] 理解+符号在字符串中的作用
-   [ ] 理解逻辑运算符
-   [ ] 掌握三元运算符的格式和计算结果

# 第一章  基本数据类型转换（Conversion）

在Java程序中，不同的基本数据类型的值经常需要进行相互转换。Java语言所提供的**七种数值类型**之间可以相互转换，基本数据类型转换有两种转换方式：自动类型转换和强制类型转换。

## 1.1 自动类型转换（隐式类型转换）

### **自动转换**：

-   将`取值范围小的类型`自动提升为`取值范围大的类型` 。

### 基本数据类型的转换规则

小结：通过上面案例我们可以得出数据类型的转换关系（取值范围从小到大），如图所示：

![](image/2h7gp3kz6j_kTvDizwNjW.jpg)

> 思考：long类型在内存中占8个字节，float类型在内存中占4个字节，为什么long还要比float小呢？

## 1.2 强制类型转换（显示类型转换）

将`1.5` 赋值到`int` 类型变量会发生什么？产生编译失败，肯定无法赋值。

```java
int i = 3.14; // 错误
```

想要赋值成功，只有通过强制类型转换，将`double` 类型强制转换成`int` 类型才能赋值。

-   **强制类型转换**：将`取值范围大的类型`强制转换成`取值范围小的类型`。

比较而言，自动转换是Java自动执行的，而强制转换需要我们自己手动执行。

**转换格式：**

```java
数据类型 变量名 = (数据类型)被强转数据值；
```

将`1.5` 赋值到`int` 类型，代码修改为：

```java
// double类型数据强制转成int类型，直接去掉小数点。
int i = (int)3.14;
```

## 1.3 注意事项

-   基本数据类型之间转换是7种数值类型之间的转换，所以boolean类型不可以转换
-   强制类型转换一般不推荐使用，因为有可能发生精度损失、数据溢出
-   byte/short/char这三种类型在运算的时候，都会被首先直接提升成为int类型，然后再计算，例如加法“+”.

## 1.4 常量（*Constant*）

-   **常量：在程序执行的过程中，其值不可以发生改变的量**
-   常量的分类：
    -   自定义常量：通过final关键字定义（后面在面向对象部分讲解）
    -   字面值常量：
        | 字面值常量 | 举例           |
        | ----- | ------------ |
        | 字符串常量 | ”HelloWorld“ |
        | 整数常量  | 12，-23       |
        | 浮点常量  | 12.34        |
        | 字符常量  | ‘a’，'0'，‘沙’  |
        | 布尔常量  | true，false   |
        | 空常量   | null         |
        ```java
        public class ConstantDemo  {
          public static void main (String[] args)  {
            //字符串常量
            System.out.println("HelloWorld");
            
            //整数常量
            System.out.println(12);
            System.out.println(-23);
            
            //浮点常量
            System.out.println(12.34);
            
            //字符常量
            System.out.println('a');
            System.out.println('0');
            System.out.println('沙');
            
            //布尔常量
            System.out.println(true);
            System.out.println(false);
          }
        }
        ```
        > 注意事项：
        > ​	空常量，不可以在输出语句中直接打印

## 1.5 两种常见的输出语句

-   **换行输出语句**：输出内容，完毕后进行换行，格式如下：
    ```java
    System.out.println(输出内容);
    ```
-   **直接输出语句**：输出内容，完毕后不做任何处理，格式如下
    ```java
    System.out.print(输出内容);
    ```

> 注意事项：
> ​	换行输出语句，括号内可以什么都不写，只做换行处理
> ​	直接输出语句，括号内什么都不写的话，编译报错

# 第二章  运算符（Operator）

### 运算符的分类

-   表达式：用运算符连接起来的式子

| 分类       | 运算符                           | `、`^`、`!`、`&&`、`            |   | \` |
| -------- | ----------------------------- | --------------------------- | - | -- |
| 算术运算符    | `+`、`-`、`*`、`/`、`%`、`++`、`--` | `、`\~`、`^`、`<<`、`>>`、`>>>\` |   |    |
| 赋值运算符    | `=`、`+=`、`-=`、`*=`、`/=`、`%=`  |                             |   |    |
| 关系运算符    | `>`、`>=`、`<`、`<=`、`==`、`!=`   |                             |   |    |
| 逻辑运算符    | `&`、\`                        |                             |   |    |
| 三元运算符    | `数据类型 变量名 = (关系表达式)?结果1:结果2；` |                             |   |    |
| 位运算符（了解） | `&`、\`                        |                             |   |    |

## 2.1 算术运算符：四则运算和求余运算

### 算术运算符分类

| 算术运算符        | 符号解释           |
| ------------ | -------------- |
| `+`          | 加法运算，字符串连接运算   |
| `-`          | 减法运算           |
| `*`          | 乘法运算           |
| `/`          | 除法运算           |
| `%`          | 求余运算，两个数字相除的余数 |
| `++` 、  `--` | 自增自减运算         |

### 课堂案例

```java
public class OperatorDemo01 {
  public static void main(String[] args) {
    int a = 3;
    int b = 4;
    
    System.out.println(a + b);// 7
    System.out.println(a - b);// -1
    System.out.println(a * b);// 12
    System.out.println(a / b);// 计算机结果是0，为什么不是0.75呢？
    System.out.println(a % b);// 3
  }
}
```

## 2.2 “+”号的多种用法

### 两种用法

-   第一种：对于`+`两边都是数值的话，`+`就是加法的意思
-   第二种：对于`+`两边至少有一边是字符串得话，`+`就是拼接的意思

\###　课堂案例

```java
public class OperatorDemo02 {
  public static void main(String[] args) {
    // 字符串类型的变量基本使用
    // 数据类型 变量名称 = 数据值;
    String str1 = "Hello";
    System.out.println(str1); // Hello
    
    System.out.println("Hello" + "World"); // HelloWorld
    
    String str2 = "Java";
    // String + int --> String
    System.out.println(str2 + 520); // Java520
    // String + int + int
    // String    + int
    // String
    System.out.println(str2 + 5 + 20); // Java520
  }
}
```

## 2.3 自加自减运算

**理解：**`++`  **运算，变量自己的值加1**。反之，`--` 运算，变量自己的值减少1，用法与`++` 一致。

### 单独使用

-   变量在单独运算的时候，变量`前++`和变量`后++`，变量的是一样的；
-   变量`前++`   ：例如 `++a` 。
-   变量`后++`   ：例如 `a++` 。

### 课堂案例

```java
public class OperatorDemo3 {
  public static void main(String[] args) {
    // 定义一个int类型的变量a
    int a = 3;
    //++a;
    a++;
        // 无论是变量前++还是变量后++，结果都是4
    System.out.println(a);
  }
}
```

### 复合使用

-   和`其他变量放在一起使用`或者和`输出语句放在一起使用`，`前++`和`后++`就产生了不同。
-   变量`前++` ：变量先自身加1，然后再将加1后的结果进行其他使用。
-   变量`后++` ：变量先拿去使用，然后再自身加1。

### 课堂案例

```java
public class OperatorDemo03 {
  public static void main(String[] args) {
    // 其他变量放在一起使用
    int a = 3;
    //int b = ++a; // b的值是4，a的值是4，
    int b = a++; // b的值是3，a的值是4
    
    System.out.println(a);
    System.out.println(b);
    System.out.println("==========");
    // 和输出语句一起
    int i = 5;
    //System.out.println(++i);// 输出结果是6，i的值也是6
    System.out.println(i++);// 输出结果是5，i的值是6
    System.out.println(i);
  } 
}
```

-   小结：
    -   **++在前，先自加，后使用；**
    -   **++在后，先使用，后自加。**

## 2.4 练习：获取一个四位数的个位，十位，百位，千位

```java
public class Test01 {
  public static void main (String [] args) {
    //1.定义一个四位数，例如1234
    int num = 1234;
    //2.通过运算操作求出个位，十位，百位，千位
    int ge = num % 10; // 1234 / 10  =  123......4
    int shi = num / 10 % 10; //1234 / 10 = 123%10 
    int bai = num / 100 % 10;
    int qian = num / 1000 % 10;
    
    System.out.println(num + "这个四位数个位上的数字是：" + ge);
    System.out.println(num + "这个四位数十位上的数字是：" + shi);
    System.out.println(num + "这个四位数百位上的数字是：" + bai);
    System.out.println(num + "这个四位数千位上的数字是：" + qian);
  }
}
```

## 2.5 赋值运算符

### 赋值运算符的分类

| 赋值运算符 | 符号解释                                                     |
| ----- | -------------------------------------------------------- |
| `=`   | 将符号右边的值，赋值给左边的变量                                         |
| `+=`  | 将符号\*\*`左边的值`​**和**`右边的值`​**进行相加操作，最后将结果**`赋值给左边的变量`\*\* |
| `-=`  | 将符号\*\*`左边的值`​**和**`右边的值`​**进行相减操作，最后将结果**`赋值给左边的变量`\*\* |
| `*=`  | 将符号\*\*`左边的值`​**和**`右边的值`​**进行相乘操作，最后将结果**`赋值给左边的变量`\*\* |
| `/=`  | 将符号\*\*`左边的值`​**和**`右边的值`​**进行相除操作，最后将结果**`赋值给左边的变量`\*\* |
| `%=`  | 将符号\*\*`左边的值`​**和**`右边的值`​**进行取余操作，最后将结果**`赋值给左边的变量`\*\* |

### 课堂案例

```java
public class OperatorDemo04 {
  public static void main(String[] args) {
    int a = 3;
    int b = 4;
    b += a;// 相当于 b = b + a ; 
    System.out.println(a); // 3
    System.out.println(b); // 7  
  }
}
```

### 补充：隐藏的强制类型转换

-   除`=`运算符外，其他的扩展后的赋值运算符在**将最后的结果赋值给左边的变量前，都做了一步强制类型转换**。

### 课堂案例

```java
public class OperatorDemo04 {
  public static void main(String[] args) {
    int a = 3;
    int b = 4;
    b += a;// 相当于 b = b + a ; 
    System.out.println(a); // 3
    System.out.println(b); // 7  
    
    short s = 3;
    // s = s + 4; 代码编译报错，因为将int类型的结果赋值给short类型的变量s时，可能损失精度
    s += 4; // 代码没有报错
        //因为在得到int类型的结果后，JVM自动完成一步强制类型转换，将int类型强转成short
    System.out.println(s);
  }
}
```

## 2.6 关系运算符（比较运算符）

### 关系运算符分类

| 关系运算符 | 符号解释                                 |
| ----- | ------------------------------------ |
| `<`   | 比较符号左边的数据是否小于右边的数据，如果小于结果是true。      |
| `>`   | 比较符号左边的数据是否大于右边的数据，如果大于结果是true。      |
| `<=`  | 比较符号左边的数据是否小于或者等于右边的数据，如果大于结果是false。 |
| `>=`  | 比较符号左边的数据是否大于或者等于右边的数据，如果小于结果是false。 |
| `==`  | 比较符号两边数据是否相等，相等结果是true。              |
| `！=`  | 不等于符号 ，如果符号两边的数据不相等，结果是true。         |

-   比较运算符，是两个数据之间进行比较的运算，运算结果一定是boolean值`true`或者`false` 。

```java
public class OperatorDemo05 {
  public static void main(String[] args) {
    int a = 3;
    int b = 4;

    System.out.println(a < b); // true
    System.out.println(a > b); // false
    System.out.println(a <= b); // true
    System.out.println(a >= b); // false
    System.out.println(a == b); // false
    System.out.println(a != b); // true
  }
}
```

## 2.7 逻辑运算符

-   逻辑运算符，是用来连接两个布尔类型结果的运算符（`!`除外），运算结果一定是boolean值`true`或者`false`

### 逻辑运算符的分类

| 逻辑运算符 | 符号解释   | 符号特点                            | 有`true`则`true` |   |
| ----- | ------ | ------------------------------- | -------------- | - |
| `&`   | 与，且    | 有`false`则`false`                | 双或，短路或         |   |
| \`    | \`     | 或                               |                |   |
| `^`   | 异或     | 相同为`false`，不同为`true`            |                |   |
| `!`   | 非      | 非`false`则`true`，非`true`则`false` |                |   |
| `&&`  | 双与，短路与 |                                 |                |   |
| \`    |        | \`                              |                |   |

\###　课堂案例

```java
public class OperatorDemo06 {
  public static void main(String[] args) {
    int a = 3;
    int b = 4;
    int c = 5;

    // & 与，且；有false则false
    System.out.println((a > b) & (a > c)); // false & false
    System.out.println((a > b) & (a < c)); // false & false
    System.out.println((a < b) & (a > c)); // true & false
    System.out.println((a < b) & (a < c)); // true & true
    System.out.println("===============");
    // | 或；有true则true
    System.out.println((a > b) | (a > c)); // false | false
    System.out.println((a > b) | (a < c)); // false | true
    System.out.println((a < b) | (a > c)); // true | false
    System.out.println((a < b) | (a < c)); // true | true
    System.out.println("===============");
    // ^ 异或；相同为false，不同为true
    System.out.println((a > b) ^ (a > c)); // false ^ false
    System.out.println((a > b) ^ (a < c)); // false ^ false
    System.out.println((a < b) ^ (a > c)); // true ^ false
    System.out.println((a < b) ^ (a < c)); // true ^ true
    System.out.println("===============");
    // ! 非；非false则true，非true则false
    System.out.println(!false);
    System.out.println(!true);
  }
}
```

\###　 &&和&区别，||和|区别

-   \*\*`&&`和`&`\*\*区别：
    -   `&&`和`&`结果一样，`&&`有短路效果，左边为false，右边不执行；`&`左边无论是什么，右边都会执行。
-   \*\*`||`和`|`\*\*区别：
    -   `||`和`|`结果一样，`||`有短路效果，左边为true，右边不执行；`|`左边无论是什么，右边都会执行。

## 2.8 三元运算符(三目运算符)

-   三元运算符格式：

```java
 数据类型 变量名 = 关系表达式？结果1：结果2
```

-   三元运算符计算方式：
    -   条件判断的结果是true，三元运算符整体结果为结果1，赋值给变量。
    -   判断条件的结果是false，三元运算符整体结果为结果2，赋值给变量。

```java
public static void main(String[] args) {
    int i = (1==2 ? 100 : 200);
    System.out.println(i);//200
    int j = (3<=4 ? 500 : 600);
    System.out.println(j);//500
}
```

## 2.10 原码，反码，补码（了解）

-   **原码：** 原码是一种计算机中对数字的二进制定点表示方法。原码表示法在数值前面增加了一位符号位（即最高位为符号位）：正数该位为  0，负数该位为1（0有两种表示：+0和-0），其余位表示数值的大小。例如，我们用8位二进制表示一个数，+9的原码为00001001，-9的原码就是10001001
-   **反码：** 反码是一种计算机中对数字的二进制定点表示方法。反码表示法规定：**正数的反码与其原码相同**；**负数的反码是针对原码逐位进行取反，符号位保持为1**。例如，我们用8位二进制表示一个数，+9的反码为00001001，-9的反码就是11110110。
-   **补码：** 补码是一种计算机中对数字的二进制定点表示方法，**正整数的补码是其二进制表示，与原码相同**，**负整数的补码，就是它的反码加1。**+9的补码为00001001，-9的补码就是11110111。
-   在计算机中，所有的数据的计算都是以数据的**补码的形式**进行计算的。

## 2.10 位运算符（了解）

| 位运算符  | 符号解释                    | 按位或，只要有一位为1即可返回1 |
| ----- | ----------------------- | ---------------- |
| `&`   | 按位与，当两位相同时为1时才返回1       |                  |
| \`    | \`                      |                  |
| `~`   | 按位非，将操作数的每个位（包括符号位）全部取反 |                  |
| `^`   | 按位异或。当两位相同时返回0，不同时返回1   |                  |
| `<<`  | 左移运算符                   |                  |
| `>>`  | 右移运算符                   |                  |
| `>>>` | 无符号右移运算符                |                  |

## 2.11 运算符的优先级

运算符有不同的优先级，所谓优先级就是在表达式运算中的运算符顺序。下面列出了包括分隔符在内的所有运算符的优先级顺序，上一行中的运算符总是优先于下一行的。

| 运算符说明     | Java运算符                        | \` | \` |
| --------- | ------------------------------ | -- | -- |
| 分隔符       | `.`、`[]`、`()`、`{}`、`,`、`;`     |    |    |
| 单元运算符     | `++`、`--`、`~`、`！`              |    |    |
| 强制类型转换运算符 | `(type)`                       |    |    |
| 乘法、除法、求余  | `*`、`/`、`%`                    |    |    |
| 加法、减法     | `+`、`-`                        |    |    |
| 移位运算符     | `<<`、`>>`、`>>>`                |    |    |
| 关系运算符     | `<`、`<=`、`>=`、`>`、`instanceof` |    |    |
| 等价运算符     | `==`、`！=`                      |    |    |
| 按位与       | `&`                            |    |    |
| 按位异或      | `^`                            |    |    |
| 按位或       | \`                             |    |    |
| 条件与       | `&&`                           |    |    |
| 条件或       | \`                             |    |    |
| 三元运算符     | `? :`                          |    |    |
| 赋值运算符     | `=`、`+=`、`-=`、`*=`、`/=`、`%=`   |    |    |

> 注意事项：

-   不要把一个表达式写得过于复杂，如果一个表达式过于复杂，则把它分成几步来完成；
-   不要过多的依赖运算的优先级来控制表达式的执行顺序，这样可读性太差，尽量使用()来控制表达式的执行顺序
